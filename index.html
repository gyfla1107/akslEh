<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆë‹ˆë˜ ê²Œì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9em;
        }

        .login-section {
            text-align: center;
        }

        .password-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1.1em;
            text-align: center;
            margin-bottom: 15px;
            transition: border-color 0.3s;
        }

        .password-input:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        .error {
            color: #dc3545;
            text-align: center;
            margin-top: 15px;
            font-size: 0.9em;
        }

        .result-section {
            display: none;
            text-align: center;
        }

        .result-section.active {
            display: block;
        }

        .welcome {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 20px;
        }

        .manitto-reveal {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .manitto-label {
            color: #666;
            font-size: 1em;
            margin-bottom: 10px;
        }

        .manitto-name {
            font-size: 2.5em;
            font-weight: bold;
            color: #764ba2;
            margin: 10px 0;
        }

        .emoji {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .logout-btn {
            background: #6c757d;
            margin-top: 20px;
        }

        .instruction {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.85em;
            color: #666;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1> ë§ˆë‹ˆë˜ ê²Œì„</h1>
        <p class="subtitle">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ë§ˆë‹ˆë˜ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>

        <div class="login-section" id="loginSection">
            <input 
                type="password" 
                class="password-input" 
                id="passwordInput" 
                placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥"
                onkeypress="if(event.key==='Enter') checkPassword()"
            >
            <button onclick="checkPassword()">í™•ì¸</button>
            <p class="error" id="errorMsg"></p>
            
            <div class="instruction">
                <strong>ì•ˆë‚´ì‚¬í•­</strong><br>
                ê°ìì—ê²Œ ì „ë‹¬ë°›ì€ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•˜ì—¬ ë§ˆë‹ˆë˜ë¥¼ í™•ì¸í•˜ì„¸ìš”!
            </div>
        </div>

        <div class="result-section" id="resultSection">
            <p class="welcome" id="welcomeMsg"></p>
            <div class="manitto-reveal">
                <p class="manitto-label">ë‹¹ì‹ ì˜ ë§ˆë‹ˆë˜ëŠ”</p>
                <p class="manitto-name" id="manittoName"></p>
            </div>
            <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>

    <script>
        // ========================================
        // BACKEND: ë°ì´í„° ê´€ë¦¬
        // ========================================

        // ì°¸ê°€ì ì´ë¦„ ì„¤ì • (10ëª…)
        const PARTICIPANTS = [
            'ë¶€ìŸ',
            'íš¨ë¦¼',
            'í˜œêµ',
            'ì§œë¼ë‹ˆ',
            'ë‹¤ë¹ˆì´',
            'ë””ë²³',
            'ë¯¼ê²½ì´',
            'ì„œìˆ˜ë¯¼',
            'ë¸ë¦¬',
            'í˜¬ì”¨'
        ];

        // ì—¬ê¸°ì— ìƒì„±ëœ ë°ì´í„°ë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”
        const GAME_DATA = {
            "FEMUBP": {"person": "ë¶€ìŸ","manitto": "ë¯¼ê²½ì´"},
            "PYYTDY": {"person": "íš¨ë¦¼","manitto": "ë¶€ìŸ"},
            "BYVJDR": {"person": "í˜œêµ","manitto": "ì„œìˆ˜ë¯¼"},
            "2M9LXW": {"person": "ì§œë¼ë‹ˆ","manitto": "íš¨ë¦¼"},
            "A2H4S5": {"person": "ë‹¤ë¹ˆì´","manitto": "í˜œêµ"},
            "CWLTPJ": {"person": "ë””ë²³","manitto": "ì§œë¼ë‹ˆ"},
            "7DTXKQ": {"person": "ë¯¼ê²½ì´","manitto": "ë‹¤ë¹ˆì´"},
            "2CZB7X": {"person": "ì„œìˆ˜ë¯¼","manitto": "í˜¬ì”¨"},
            "R46L38": {"person": "ë¸ë¦¬","manitto": "ë””ë²³"},
            "SW7RLK": {"person": "í˜¬ì”¨","manitto": "ë¸ë¦¬"}
        };

        // API í•¨ìˆ˜
        function getManittoByPassword(password) {
            return GAME_DATA[password] || null;
        }

        // ì´ˆê¸° ë°ì´í„° ìƒì„± í—¬í¼
        function generateInitialData() {
            function generateRandomPassword() {
                const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
                let password = '';
                for (let i = 0; i < 6; i++) {
                    password += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return password;
            }

            function assignManitto(names) {
                let assignments;
                let isValid = false;
                let attempts = 0;

                while (!isValid && attempts < 1000) {
                    const shuffled = [...names].sort(() => Math.random() - 0.5);
                    assignments = names.map((name, idx) => ({
                        person: name,
                        manitto: shuffled[idx]
                    }));
                    isValid = assignments.every(a => a.person !== a.manitto);
                    attempts++;
                }
                return assignments;
            }

            const assignments = assignManitto(PARTICIPANTS);
            const usedPasswords = new Set();
            const result = {};

            assignments.forEach(assignment => {
                let password;
                do {
                    password = generateRandomPassword();
                } while (usedPasswords.has(password));
                
                usedPasswords.add(password);
                result[password] = {
                    person: assignment.person,
                    manitto: assignment.manitto
                };
            });

            //console.log('=== 1ë‹¨ê³„: ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ GAME_DATAë¥¼ êµì²´í•˜ì„¸ìš” ===\n');
            //console.log(`const GAME_DATA = ${JSON.stringify(result, null, 2)};`);
            console.log('\n=== 2ë‹¨ê³„: ê° ì°¸ê°€ìì—ê²Œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê°œë³„ ì „ë‹¬í•˜ì„¸ìš” ===');
            Object.keys(result).forEach(password => {
                console.log(`${result[password].person}: ${password}`);  // ì—¬ê¸° ìˆ˜ì •!
            });
            //console.log('\n=== 3ë‹¨ê³„: generateInitialData() í˜¸ì¶œì„ ì£¼ì„ ì²˜ë¦¬í•˜ì„¸ìš” ===');
        }

        // ì£¼ì„ì„ í•´ì œí•˜ê³  í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ì—¬ ë°ì´í„° ìƒì„±
         //generateInitialData();

        // ========================================
        // FRONTEND: UI ë¡œì§
        // ========================================

        function checkPassword() {
            const password = document.getElementById('passwordInput').value.trim();
            const errorMsg = document.getElementById('errorMsg');
            
            if (!password) {
                errorMsg.textContent = 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”!';
                return;
            }

            const data = getManittoByPassword(password);
            
            if (data) {
                showResult(data);
                errorMsg.textContent = '';
                document.getElementById('passwordInput').value = '';
            } else {
                errorMsg.textContent = 'ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤!';
            }
        }

        function showResult(data) {
            document.getElementById('welcomeMsg').textContent = `${data.person}ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤! ğŸ‘‹`;
            document.getElementById('manittoName').textContent = data.manitto;
            
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('resultSection').classList.add('active');
        }

        function logout() {
            document.getElementById('loginSection').style.display = 'block';
            document.getElementById('resultSection').classList.remove('active');
            document.getElementById('errorMsg').textContent = '';
        }
    </script>
</body>
</html>





